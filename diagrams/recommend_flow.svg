<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: RecommendFlow Pages: 1 -->
<svg width="552pt" height="1571pt"
 viewBox="0.00 0.00 552.25 1571.25" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1567.25)">
<title>RecommendFlow</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1567.25 548.25,-1567.25 548.25,4 -4,4"/>
<text text-anchor="middle" x="272.12" y="-1545.95" font-family="Microsoft YaHei" font-size="14.00">食刻选择｜推荐算法流程图（getSuggestion）</text>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M217,-1536.5C217,-1536.5 48,-1536.5 48,-1536.5 42,-1536.5 36,-1530.5 36,-1524.5 36,-1524.5 36,-1503 36,-1503 36,-1497 42,-1491 48,-1491 48,-1491 217,-1491 217,-1491 223,-1491 229,-1497 229,-1503 229,-1503 229,-1524.5 229,-1524.5 229,-1530.5 223,-1536.5 217,-1536.5"/>
<text text-anchor="middle" x="132.5" y="-1519.2" font-family="Microsoft YaHei" font-size="14.00">开始：用户触发推荐</text>
<text text-anchor="middle" x="132.5" y="-1500.45" font-family="Microsoft YaHei" font-size="14.00">点击「帮我选！」/自动餐别</text>
</g>
<!-- InputMeal -->
<g id="node2" class="node">
<title>InputMeal</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M223.38,-1454C223.38,-1454 41.62,-1454 41.62,-1454 35.62,-1454 29.62,-1448 29.62,-1442 29.62,-1442 29.62,-1420.5 29.62,-1420.5 29.62,-1414.5 35.62,-1408.5 41.62,-1408.5 41.62,-1408.5 223.38,-1408.5 223.38,-1408.5 229.38,-1408.5 235.38,-1414.5 235.38,-1420.5 235.38,-1420.5 235.38,-1442 235.38,-1442 235.38,-1448 229.38,-1454 223.38,-1454"/>
<text text-anchor="middle" x="132.5" y="-1436.7" font-family="Microsoft YaHei" font-size="14.00">输入：mealType</text>
<text text-anchor="middle" x="132.5" y="-1417.95" font-family="Microsoft YaHei" font-size="14.00">(早餐/午餐/下午茶/晚餐/夜宵)</text>
</g>
<!-- Start&#45;&gt;InputMeal -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;InputMeal</title>
<path fill="none" stroke="#6b6b6b" d="M132.5,-1490.75C132.5,-1482.41 132.5,-1472.74 132.5,-1463.7"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="135.3,-1463.73 132.5,-1455.73 129.7,-1463.73 135.3,-1463.73"/>
</g>
<!-- LoadState -->
<g id="node3" class="node">
<title>LoadState</title>
<path fill="#e8f2ff" stroke="#2f6fed" d="M253,-1371.5C253,-1371.5 12,-1371.5 12,-1371.5 6,-1371.5 0,-1365.5 0,-1359.5 0,-1359.5 0,-1338 0,-1338 0,-1332 6,-1326 12,-1326 12,-1326 253,-1326 253,-1326 259,-1326 265,-1332 265,-1338 265,-1338 265,-1359.5 265,-1359.5 265,-1365.5 259,-1371.5 253,-1371.5"/>
<text text-anchor="middle" x="132.5" y="-1354.2" font-family="Microsoft YaHei" font-size="14.00">读取状态：foods + settings + history</text>
<text text-anchor="middle" x="132.5" y="-1335.45" font-family="Microsoft YaHei" font-size="14.00">(AppStorage/Preferences 已加载)</text>
</g>
<!-- InputMeal&#45;&gt;LoadState -->
<g id="edge2" class="edge">
<title>InputMeal&#45;&gt;LoadState</title>
<path fill="none" stroke="#6b6b6b" d="M132.5,-1408.25C132.5,-1399.91 132.5,-1390.24 132.5,-1381.2"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="135.3,-1381.23 132.5,-1373.23 129.7,-1381.23 135.3,-1381.23"/>
</g>
<!-- BaseFilter -->
<g id="node4" class="node">
<title>BaseFilter</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M214.75,-1289C214.75,-1289 50.25,-1289 50.25,-1289 44.25,-1289 38.25,-1283 38.25,-1277 38.25,-1277 38.25,-1218 38.25,-1218 38.25,-1212 44.25,-1206 50.25,-1206 50.25,-1206 214.75,-1206 214.75,-1206 220.75,-1206 226.75,-1212 226.75,-1218 226.75,-1218 226.75,-1277 226.75,-1277 226.75,-1283 220.75,-1289 214.75,-1289"/>
<text text-anchor="middle" x="132.5" y="-1271.7" font-family="Microsoft YaHei" font-size="14.00">基础过滤（候选集）</text>
<text text-anchor="middle" x="132.5" y="-1252.95" font-family="Microsoft YaHei" font-size="14.00">&#45; mealType 匹配</text>
<text text-anchor="middle" x="132.5" y="-1234.2" font-family="Microsoft YaHei" font-size="14.00">&#45; enabled=true</text>
<text text-anchor="middle" x="132.5" y="-1215.45" font-family="Microsoft YaHei" font-size="14.00">&#45; tags 不命中 bannedTags</text>
</g>
<!-- LoadState&#45;&gt;BaseFilter -->
<g id="edge3" class="edge">
<title>LoadState&#45;&gt;BaseFilter</title>
<path fill="none" stroke="#6b6b6b" d="M132.5,-1325.72C132.5,-1317.67 132.5,-1308.2 132.5,-1298.7"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="135.3,-1298.75 132.5,-1290.75 129.7,-1298.75 135.3,-1298.75"/>
</g>
<!-- HasCandidate1 -->
<g id="node5" class="node">
<title>HasCandidate1</title>
<path fill="#ffffff" stroke="#4c4c4c" d="M120.9,-1165.94C120.9,-1165.94 42.6,-1145.31 42.6,-1145.31 36.8,-1143.78 36.8,-1140.72 42.6,-1139.19 42.6,-1139.19 120.9,-1118.56 120.9,-1118.56 126.7,-1117.03 138.3,-1117.03 144.1,-1118.56 144.1,-1118.56 222.4,-1139.19 222.4,-1139.19 228.2,-1140.72 228.2,-1143.78 222.4,-1145.31 222.4,-1145.31 144.1,-1165.94 144.1,-1165.94 138.3,-1167.47 126.7,-1167.47 120.9,-1165.94"/>
<text text-anchor="middle" x="132.5" y="-1138.33" font-family="Microsoft YaHei" font-size="14.00">候选集为空？</text>
</g>
<!-- BaseFilter&#45;&gt;HasCandidate1 -->
<g id="edge4" class="edge">
<title>BaseFilter&#45;&gt;HasCandidate1</title>
<path fill="none" stroke="#6b6b6b" d="M132.5,-1205.69C132.5,-1196.76 132.5,-1187.38 132.5,-1178.69"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="135.3,-1178.73 132.5,-1170.73 129.7,-1178.73 135.3,-1178.73"/>
</g>
<!-- NoCandidate -->
<g id="node6" class="node">
<title>NoCandidate</title>
<path fill="#ffe8e8" stroke="#d92f2f" d="M199.38,-1060.75C199.38,-1060.75 29.62,-1060.75 29.62,-1060.75 23.62,-1060.75 17.62,-1054.75 17.62,-1048.75 17.62,-1048.75 17.62,-1027.25 17.62,-1027.25 17.62,-1021.25 23.62,-1015.25 29.62,-1015.25 29.62,-1015.25 199.38,-1015.25 199.38,-1015.25 205.38,-1015.25 211.38,-1021.25 211.38,-1027.25 211.38,-1027.25 211.38,-1048.75 211.38,-1048.75 211.38,-1054.75 205.38,-1060.75 199.38,-1060.75"/>
<text text-anchor="middle" x="114.5" y="-1043.45" font-family="Microsoft YaHei" font-size="14.00">返回 null</text>
<text text-anchor="middle" x="114.5" y="-1024.7" font-family="Microsoft YaHei" font-size="14.00">Toast：没有符合条件的菜品</text>
</g>
<!-- HasCandidate1&#45;&gt;NoCandidate -->
<g id="edge5" class="edge">
<title>HasCandidate1&#45;&gt;NoCandidate</title>
<path fill="none" stroke="#6b6b6b" d="M128.1,-1116.24C125.65,-1102.37 122.6,-1084.99 120,-1070.23"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="122.78,-1069.86 118.63,-1062.47 117.26,-1070.83 122.78,-1069.86"/>
<text text-anchor="middle" x="131.7" y="-1084.2" font-family="Microsoft YaHei" font-size="14.00">是</text>
</g>
<!-- NoRepeat -->
<g id="node7" class="node">
<title>NoRepeat</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M401.5,-1056C401.5,-1056 241.5,-1056 241.5,-1056 235.5,-1056 229.5,-1050 229.5,-1044 229.5,-1044 229.5,-1032 229.5,-1032 229.5,-1026 235.5,-1020 241.5,-1020 241.5,-1020 401.5,-1020 401.5,-1020 407.5,-1020 413.5,-1026 413.5,-1032 413.5,-1032 413.5,-1044 413.5,-1044 413.5,-1050 407.5,-1056 401.5,-1056"/>
<text text-anchor="middle" x="321.5" y="-1034.08" font-family="Microsoft YaHei" font-size="14.00">读取设置：noRepeatDays</text>
</g>
<!-- HasCandidate1&#45;&gt;NoRepeat -->
<g id="edge6" class="edge">
<title>HasCandidate1&#45;&gt;NoRepeat</title>
<path fill="none" stroke="#6b6b6b" d="M164.99,-1123.67C197.23,-1106.23 246.72,-1079.45 281.4,-1060.7"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="282.4,-1063.34 288.1,-1057.07 279.73,-1058.41 282.4,-1063.34"/>
<text text-anchor="middle" x="251.05" y="-1084.2" font-family="Microsoft YaHei" font-size="14.00">否</text>
</g>
<!-- RecentHistory -->
<g id="node8" class="node">
<title>RecentHistory</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M464.5,-978.25C464.5,-978.25 178.5,-978.25 178.5,-978.25 172.5,-978.25 166.5,-972.25 166.5,-966.25 166.5,-966.25 166.5,-944.75 166.5,-944.75 166.5,-938.75 172.5,-932.75 178.5,-932.75 178.5,-932.75 464.5,-932.75 464.5,-932.75 470.5,-932.75 476.5,-938.75 476.5,-944.75 476.5,-944.75 476.5,-966.25 476.5,-966.25 476.5,-972.25 470.5,-978.25 464.5,-978.25"/>
<text text-anchor="middle" x="321.5" y="-960.95" font-family="Microsoft YaHei" font-size="14.00">getRecentHistory(mealType, noRepeatDays)</text>
<text text-anchor="middle" x="321.5" y="-942.2" font-family="Microsoft YaHei" font-size="14.00">过滤：daysDiff &lt; noRepeatDays</text>
</g>
<!-- NoRepeat&#45;&gt;RecentHistory -->
<g id="edge7" class="edge">
<title>NoRepeat&#45;&gt;RecentHistory</title>
<path fill="none" stroke="#6b6b6b" d="M321.5,-1019.53C321.5,-1010.33 321.5,-998.75 321.5,-988.04"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="324.3,-988.05 321.5,-980.05 318.7,-988.05 324.3,-988.05"/>
</g>
<!-- DedupFilter -->
<g id="node9" class="node">
<title>DedupFilter</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M427.38,-895.75C427.38,-895.75 215.62,-895.75 215.62,-895.75 209.62,-895.75 203.62,-889.75 203.62,-883.75 203.62,-883.75 203.62,-862.25 203.62,-862.25 203.62,-856.25 209.62,-850.25 215.62,-850.25 215.62,-850.25 427.38,-850.25 427.38,-850.25 433.38,-850.25 439.38,-856.25 439.38,-862.25 439.38,-862.25 439.38,-883.75 439.38,-883.75 439.38,-889.75 433.38,-895.75 427.38,-895.75"/>
<text text-anchor="middle" x="321.5" y="-878.45" font-family="Microsoft YaHei" font-size="14.00">近期去重过滤</text>
<text text-anchor="middle" x="321.5" y="-859.7" font-family="Microsoft YaHei" font-size="14.00">从候选集中剔除近期吃过的 foodId</text>
</g>
<!-- RecentHistory&#45;&gt;DedupFilter -->
<g id="edge8" class="edge">
<title>RecentHistory&#45;&gt;DedupFilter</title>
<path fill="none" stroke="#6b6b6b" d="M321.5,-932.5C321.5,-924.16 321.5,-914.49 321.5,-905.45"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="324.3,-905.48 321.5,-897.48 318.7,-905.48 324.3,-905.48"/>
</g>
<!-- HasCandidate2 -->
<g id="node10" class="node">
<title>HasCandidate2</title>
<path fill="#ffffff" stroke="#4c4c4c" d="M309.9,-810.19C309.9,-810.19 231.6,-789.56 231.6,-789.56 225.8,-788.03 225.8,-784.97 231.6,-783.44 231.6,-783.44 309.9,-762.81 309.9,-762.81 315.7,-761.28 327.3,-761.28 333.1,-762.81 333.1,-762.81 411.4,-783.44 411.4,-783.44 417.2,-784.97 417.2,-788.03 411.4,-789.56 411.4,-789.56 333.1,-810.19 333.1,-810.19 327.3,-811.72 315.7,-811.72 309.9,-810.19"/>
<text text-anchor="middle" x="321.5" y="-782.58" font-family="Microsoft YaHei" font-size="14.00">去重后为空？</text>
</g>
<!-- DedupFilter&#45;&gt;HasCandidate2 -->
<g id="edge9" class="edge">
<title>DedupFilter&#45;&gt;HasCandidate2</title>
<path fill="none" stroke="#6b6b6b" d="M321.5,-849.8C321.5,-841.6 321.5,-832.08 321.5,-823"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="324.3,-823.27 321.5,-815.27 318.7,-823.27 324.3,-823.27"/>
</g>
<!-- Fallback -->
<g id="node11" class="node">
<title>Fallback</title>
<path fill="#fff6e8" stroke="#d98c00" d="M334.88,-705C334.88,-705 186.12,-705 186.12,-705 180.12,-705 174.12,-699 174.12,-693 174.12,-693 174.12,-671.5 174.12,-671.5 174.12,-665.5 180.12,-659.5 186.12,-659.5 186.12,-659.5 334.88,-659.5 334.88,-659.5 340.88,-659.5 346.88,-665.5 346.88,-671.5 346.88,-671.5 346.88,-693 346.88,-693 346.88,-699 340.88,-705 334.88,-705"/>
<text text-anchor="middle" x="260.5" y="-687.7" font-family="Microsoft YaHei" font-size="14.00">回退：使用未去重候选集</text>
<text text-anchor="middle" x="260.5" y="-668.95" font-family="Microsoft YaHei" font-size="14.00">(保证能推荐)</text>
</g>
<!-- HasCandidate2&#45;&gt;Fallback -->
<g id="edge10" class="edge">
<title>HasCandidate2&#45;&gt;Fallback</title>
<path fill="none" stroke="#6b6b6b" d="M307.96,-762.81C299.23,-748.18 287.79,-728.99 278.33,-713.13"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="280.86,-711.91 274.36,-706.48 276.05,-714.78 280.86,-711.91"/>
<text text-anchor="middle" x="301.78" y="-728.45" font-family="Microsoft YaHei" font-size="14.00">是</text>
</g>
<!-- FestivalCheck -->
<g id="node12" class="node">
<title>FestivalCheck</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M419.88,-622.5C419.88,-622.5 223.12,-622.5 223.12,-622.5 217.12,-622.5 211.12,-616.5 211.12,-610.5 211.12,-610.5 211.12,-589 211.12,-589 211.12,-583 217.12,-577 223.12,-577 223.12,-577 419.88,-577 419.88,-577 425.88,-577 431.88,-583 431.88,-589 431.88,-589 431.88,-610.5 431.88,-610.5 431.88,-616.5 425.88,-622.5 419.88,-622.5"/>
<text text-anchor="middle" x="321.5" y="-605.2" font-family="Microsoft YaHei" font-size="14.00">节日判断：getTodayFestival()</text>
<text text-anchor="middle" x="321.5" y="-586.45" font-family="Microsoft YaHei" font-size="14.00">获取 recommendedFoods 集合</text>
</g>
<!-- HasCandidate2&#45;&gt;FestivalCheck -->
<g id="edge11" class="edge">
<title>HasCandidate2&#45;&gt;FestivalCheck</title>
<path fill="none" stroke="#6b6b6b" d="M334.77,-763.2C348.06,-738.02 365.25,-695.82 355.5,-659.5 352.86,-649.67 348.13,-639.78 343.02,-631"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="345.44,-629.58 338.86,-624.24 340.67,-632.52 345.44,-629.58"/>
<text text-anchor="middle" x="365.49" y="-678.33" font-family="Microsoft YaHei" font-size="14.00">否</text>
</g>
<!-- Fallback&#45;&gt;FestivalCheck -->
<g id="edge12" class="edge">
<title>Fallback&#45;&gt;FestivalCheck</title>
<path fill="none" stroke="#6b6b6b" d="M277.17,-659.25C283.96,-650.29 291.91,-639.8 299.19,-630.19"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="301.34,-631.99 303.94,-623.93 296.87,-628.61 301.34,-631.99"/>
</g>
<!-- AnalyzePref -->
<g id="node13" class="node">
<title>AnalyzePref</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M446.5,-540C446.5,-540 196.5,-540 196.5,-540 190.5,-540 184.5,-534 184.5,-528 184.5,-528 184.5,-506.5 184.5,-506.5 184.5,-500.5 190.5,-494.5 196.5,-494.5 196.5,-494.5 446.5,-494.5 446.5,-494.5 452.5,-494.5 458.5,-500.5 458.5,-506.5 458.5,-506.5 458.5,-528 458.5,-528 458.5,-534 452.5,-540 446.5,-540"/>
<text text-anchor="middle" x="321.5" y="-522.7" font-family="Microsoft YaHei" font-size="14.00">分析偏好：analyzeUserPreference()</text>
<text text-anchor="middle" x="321.5" y="-503.95" font-family="Microsoft YaHei" font-size="14.00">统计 totalLikes / 常见 tags/price/origin</text>
</g>
<!-- FestivalCheck&#45;&gt;AnalyzePref -->
<g id="edge13" class="edge">
<title>FestivalCheck&#45;&gt;AnalyzePref</title>
<path fill="none" stroke="#6b6b6b" d="M321.5,-576.75C321.5,-568.41 321.5,-558.74 321.5,-549.7"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="324.3,-549.73 321.5,-541.73 318.7,-549.73 324.3,-549.73"/>
</g>
<!-- HasLikes -->
<g id="node14" class="node">
<title>HasLikes</title>
<path fill="#ffffff" stroke="#4c4c4c" d="M309.79,-454.86C309.79,-454.86 214.46,-433.39 214.46,-433.39 208.6,-432.07 208.6,-429.43 214.46,-428.11 214.46,-428.11 309.79,-406.64 309.79,-406.64 315.65,-405.32 327.35,-405.32 333.21,-406.64 333.21,-406.64 428.54,-428.11 428.54,-428.11 434.4,-429.43 434.4,-432.07 428.54,-433.39 428.54,-433.39 333.21,-454.86 333.21,-454.86 327.35,-456.18 315.65,-456.18 309.79,-454.86"/>
<text text-anchor="middle" x="321.5" y="-426.82" font-family="Microsoft YaHei" font-size="14.00">totalLikes &gt; 0 ?</text>
</g>
<!-- AnalyzePref&#45;&gt;HasLikes -->
<g id="edge14" class="edge">
<title>AnalyzePref&#45;&gt;HasLikes</title>
<path fill="none" stroke="#6b6b6b" d="M321.5,-494.05C321.5,-485.85 321.5,-476.33 321.5,-467.25"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="324.3,-467.52 321.5,-459.52 318.7,-467.52 324.3,-467.52"/>
</g>
<!-- WeightRandom -->
<g id="node15" class="node">
<title>WeightRandom</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M293,-330.5C293,-330.5 130,-330.5 130,-330.5 124,-330.5 118,-324.5 118,-318.5 118,-318.5 118,-278.25 118,-278.25 118,-272.25 124,-266.25 130,-266.25 130,-266.25 293,-266.25 293,-266.25 299,-266.25 305,-272.25 305,-278.25 305,-278.25 305,-318.5 305,-318.5 305,-324.5 299,-330.5 293,-330.5"/>
<text text-anchor="middle" x="211.5" y="-313.2" font-family="Microsoft YaHei" font-size="14.00">权重策略 A（无喜好数据）</text>
<text text-anchor="middle" x="211.5" y="-294.45" font-family="Microsoft YaHei" font-size="14.00">weight=随机(0.5~1.5)</text>
<text text-anchor="middle" x="211.5" y="-275.7" font-family="Microsoft YaHei" font-size="14.00">若命中节日推荐：×3.0</text>
</g>
<!-- HasLikes&#45;&gt;WeightRandom -->
<g id="edge15" class="edge">
<title>HasLikes&#45;&gt;WeightRandom</title>
<path fill="none" stroke="#6b6b6b" d="M303.09,-407.93C286.97,-388.83 263.19,-360.64 243.9,-337.77"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="246.08,-336.02 238.78,-331.71 241.8,-339.63 246.08,-336.02"/>
<text text-anchor="middle" x="289.9" y="-372.7" font-family="Microsoft YaHei" font-size="14.00">否</text>
</g>
<!-- WeightSimilarity -->
<g id="node16" class="node">
<title>WeightSimilarity</title>
<path fill="#f7f7fb" stroke="#4c4c4c" d="M532.25,-349.25C532.25,-349.25 334.75,-349.25 334.75,-349.25 328.75,-349.25 322.75,-343.25 322.75,-337.25 322.75,-337.25 322.75,-259.5 322.75,-259.5 322.75,-253.5 328.75,-247.5 334.75,-247.5 334.75,-247.5 532.25,-247.5 532.25,-247.5 538.25,-247.5 544.25,-253.5 544.25,-259.5 544.25,-259.5 544.25,-337.25 544.25,-337.25 544.25,-343.25 538.25,-349.25 532.25,-349.25"/>
<text text-anchor="middle" x="433.5" y="-331.95" font-family="Microsoft YaHei" font-size="14.00">权重策略 B（有喜好数据）</text>
<text text-anchor="middle" x="433.5" y="-313.2" font-family="Microsoft YaHei" font-size="14.00">weight=1.0 + 标签匹配(0.4)</text>
<text text-anchor="middle" x="433.5" y="-294.45" font-family="Microsoft YaHei" font-size="14.00">+ 价格匹配(0.2) + 来源匹配(0.2)</text>
<text text-anchor="middle" x="433.5" y="-275.7" font-family="Microsoft YaHei" font-size="14.00">+ 随机扰动(0.2)</text>
<text text-anchor="middle" x="433.5" y="-256.95" font-family="Microsoft YaHei" font-size="14.00">若命中节日推荐：×2.5</text>
</g>
<!-- HasLikes&#45;&gt;WeightSimilarity -->
<g id="edge16" class="edge">
<title>HasLikes&#45;&gt;WeightSimilarity</title>
<path fill="none" stroke="#6b6b6b" d="M340.25,-407.93C352.29,-393.91 368.53,-375 384.09,-356.9"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="386.16,-358.78 389.25,-350.89 381.91,-355.13 386.16,-358.78"/>
<text text-anchor="middle" x="381.27" y="-372.7" font-family="Microsoft YaHei" font-size="14.00">是</text>
</g>
<!-- WeightedPick -->
<g id="node17" class="node">
<title>WeightedPick</title>
<path fill="#e8f2ff" stroke="#2f6fed" d="M418.38,-210.5C418.38,-210.5 224.62,-210.5 224.62,-210.5 218.62,-210.5 212.62,-204.5 212.62,-198.5 212.62,-198.5 212.62,-177 212.62,-177 212.62,-171 218.62,-165 224.62,-165 224.62,-165 418.38,-165 418.38,-165 424.38,-165 430.38,-171 430.38,-177 430.38,-177 430.38,-198.5 430.38,-198.5 430.38,-204.5 424.38,-210.5 418.38,-210.5"/>
<text text-anchor="middle" x="321.5" y="-193.2" font-family="Microsoft YaHei" font-size="14.00">加权随机抽样</text>
<text text-anchor="middle" x="321.5" y="-174.45" font-family="Microsoft YaHei" font-size="14.00">累计权重命中阈值 → 选出 food</text>
</g>
<!-- WeightRandom&#45;&gt;WeightedPick -->
<g id="edge17" class="edge">
<title>WeightRandom&#45;&gt;WeightedPick</title>
<path fill="none" stroke="#6b6b6b" d="M243.32,-265.96C258.83,-250.63 277.36,-232.33 292.49,-217.4"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="294.37,-219.47 298.1,-211.86 290.44,-215.49 294.37,-219.47"/>
</g>
<!-- WeightSimilarity&#45;&gt;WeightedPick -->
<g id="edge18" class="edge">
<title>WeightSimilarity&#45;&gt;WeightedPick</title>
<path fill="none" stroke="#6b6b6b" d="M381.76,-247.2C371.15,-236.91 360.34,-226.42 350.86,-217.22"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="352.99,-215.39 345.29,-211.83 349.09,-219.41 352.99,-215.39"/>
</g>
<!-- SetCurrent -->
<g id="node18" class="node">
<title>SetCurrent</title>
<path fill="#e8f2ff" stroke="#2f6fed" d="M427.75,-128C427.75,-128 215.25,-128 215.25,-128 209.25,-128 203.25,-122 203.25,-116 203.25,-116 203.25,-94.5 203.25,-94.5 203.25,-88.5 209.25,-82.5 215.25,-82.5 215.25,-82.5 427.75,-82.5 427.75,-82.5 433.75,-82.5 439.75,-88.5 439.75,-94.5 439.75,-94.5 439.75,-116 439.75,-116 439.75,-122 433.75,-128 427.75,-128"/>
<text text-anchor="middle" x="321.5" y="-110.7" font-family="Microsoft YaHei" font-size="14.00">写入 currentSuggestion</text>
<text text-anchor="middle" x="321.5" y="-91.95" font-family="Microsoft YaHei" font-size="14.00">(供「就吃它/喜欢/不再推荐」使用)</text>
</g>
<!-- WeightedPick&#45;&gt;SetCurrent -->
<g id="edge19" class="edge">
<title>WeightedPick&#45;&gt;SetCurrent</title>
<path fill="none" stroke="#6b6b6b" d="M321.5,-164.75C321.5,-156.41 321.5,-146.74 321.5,-137.7"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="324.3,-137.73 321.5,-129.73 318.7,-137.73 324.3,-137.73"/>
</g>
<!-- Return -->
<g id="node19" class="node">
<title>Return</title>
<path fill="#eaf7ea" stroke="#1e8e3e" d="M360.25,-45.5C360.25,-45.5 282.75,-45.5 282.75,-45.5 276.75,-45.5 270.75,-39.5 270.75,-33.5 270.75,-33.5 270.75,-12 270.75,-12 270.75,-6 276.75,0 282.75,0 282.75,0 360.25,0 360.25,0 366.25,0 372.25,-6 372.25,-12 372.25,-12 372.25,-33.5 372.25,-33.5 372.25,-39.5 366.25,-45.5 360.25,-45.5"/>
<text text-anchor="middle" x="321.5" y="-28.2" font-family="Microsoft YaHei" font-size="14.00">返回推荐结果</text>
<text text-anchor="middle" x="321.5" y="-9.45" font-family="Microsoft YaHei" font-size="14.00">显示推荐卡片</text>
</g>
<!-- SetCurrent&#45;&gt;Return -->
<g id="edge20" class="edge">
<title>SetCurrent&#45;&gt;Return</title>
<path fill="none" stroke="#6b6b6b" d="M321.5,-82.25C321.5,-73.91 321.5,-64.24 321.5,-55.2"/>
<polygon fill="#6b6b6b" stroke="#6b6b6b" points="324.3,-55.23 321.5,-47.23 318.7,-55.23 324.3,-55.23"/>
</g>
</g>
</svg>
